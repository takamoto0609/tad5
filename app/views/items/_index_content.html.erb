<div class="content">
  <div class="content_area", id='map'></div>

  <script>
    let map;
    let lat = gon.lat;
    let lng = gon.lng;

    function initMap() {
      geocoder = new google.maps.Geocoder()
      if (lat == null) {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {
            lat: 21.2762,
            lng: -157.827
          }, // ワイキキビーチを中心に表示させている
          zoom: 13,
        });
      } else {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {
            lat: lat,
            lng: lng
          },
          zoom: 17,
        });
      }
    }
  </script>

  <script defer src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_API_KEY'] %>&callback=initMap">
  </script>
</div>